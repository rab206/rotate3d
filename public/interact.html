<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Audi 3D Render</title>
  <link rel="stylesheet" href="//unpkg.com/tachyons@4.6.1/css/tachyons.min.css" />
  <style type='text/css'>
    body {
      overflow: hidden;
      background: #FFF;
    }
    
    nav {
      background-color: #8440ac;
    }
  </style>
	<script src="/socket.io/socket.io.js"></script>
</head>

<body>
  <nav class="dt w-100 pa2 ph5-ns">
    <div class="dtc v-mid mid-gray dim tr w-10">
      <img class="dib w3 h2" src="//www.dfs.co.uk/wcsstore8.00.00.215/DFSStorefrontAssetStore/images/dfs_logo.svg">
    </div>
    <div class="dtc v-mid w-85 pl2">
      <h1 class="white f-audi-n normal f4 dib ma2 mr4-ns">Audi 3D Render</h1>
    </div>
  </nav>
  <div class="fl w-100 mv3">
    <button id="reset" class="mh3 f6 link dim br1 ba ph3 pv2 mb2 dib near-black">Reset</button>
    <div class="tc">
      <div id="container"></div>
    </div>
    <h3 class="tc f3 f-audi audi-grey ma2">Audi R8</h3>
    <script type='text/javascript'>
      var freezeAlpha = false;

      /* global io */

      document.getElementById('reset').onclick = () => {
        freezeAlpha = false;
      };
      
      var socket = io.connect();
      
      function handleOrientation(event) {
        var a = event.alpha * Math.PI / 180,
          b = event.beta * Math.PI / 180,
          g = event.gamma * Math.PI / 180;
        // if(!freezeAlpha){
        // 	originalAlpha = Math.abs(a);
        // 	freezeAlpha = true;
        // }
        socket.emit('interact', {
          g,
          a,
          b
        });
      }
      window.addEventListener('deviceorientation', handleOrientation);
    </script>
</body>

</html>
